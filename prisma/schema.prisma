generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider     = "mysql"
    url          = env("DATABASE_URL")
    relationMode = "prisma"
}

model Habit {
    id             String         @id @default(cuid())
    created_at     DateTime       @default(now())
    updated_at     DateTime       @updatedAt
    task           String         @db.VarChar(255)
    amount         Int
    frequency      Frequency
    sharingOptions SharingOptions
    userId         String         @db.VarChar(255)
    HabitEntry     HabitEntry[]

    @@index([userId])
}

model HabitEntry {
    id          String   @id @default(cuid())
    created_at  DateTime @default(now())
    updated_at  DateTime @updatedAt
    habitId     String
    habit       Habit    @relation(fields: [habitId], references: [id], onDelete: Cascade)
    description String?  @db.VarChar(255)
    feeling     String?  @db.VarChar(255)

    @@index([habitId])
}

enum Frequency {
    YEAR
    WEEK
    DAY
}

enum SharingOptions {
    PRIVATE
    FRIENDS
}
